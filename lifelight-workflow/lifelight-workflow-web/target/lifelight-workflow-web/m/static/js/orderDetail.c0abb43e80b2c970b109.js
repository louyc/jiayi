webpackJsonp([45],{10:function(t,e){},11:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"vux-toast"},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowMask&&t.show,expression:"isShowMask && show"}],staticClass:"weui-mask_transparent"}),t._v(" "),o("transition",{attrs:{name:t.currentTransition}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-toast",class:t.toastClass,style:{width:t.width}},[o("i",{directives:[{name:"show",rawName:"v-show",value:"text"!==t.type,expression:"type !== 'text'"}],staticClass:"weui-icon-success-no-circle weui-icon_toast"}),t._v(" "),t.text?o("p",{staticClass:"weui-toast__content",style:t.style,domProps:{innerHTML:t._s(t.text)}}):o("p",{staticClass:"weui-toast__content",style:t.style},[t._t("default")],2)])])],1)},staticRenderFns:[]}},1182:function(t,e){},1183:function(t,e){},1345:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("div",{staticClass:"orderInfoBox"},[o("div",{staticClass:"orderInfo"},[o("h3",[t._v(t._s(t.orderInfo.relationName))]),t._v(" "),o("div",{staticClass:"info clearfix"},[o("div",{staticClass:"orderTxt"},[o("div",[o("span",[t._v("医生：")]),t._v(t._s(t.orderInfo.relationSupplier))]),t._v(" "),o("div",{staticClass:"describeText clearfix"},[o("span",[t._v("服务描述：")]),o("div",{attrs:{id:"describeText"}},[t._v(t._s(t.orderInfo.relationDesc))])])]),t._v(" "),o("div",{staticClass:"orderPrice"},[t._v("¥"+t._s(t.orderInfo.price))])])]),t._v(" "),o("ul",{staticClass:"serviceList"},t._l(t.orderInfo.goodsList,function(e,n){return o("li",{key:n},[o("span",[t._v(t._s(e.goodsName))]),o("em",[t._v("¥"+t._s(e.price))])])}))]),t._v(" "),o("div",{staticClass:"harvestInfo"},[o("p",[o("span",[t._v("收货人："+t._s(t.address.name))]),o("em",[t._v(t._s(t.address.mobile))])]),t._v(" "),o("p",[t._v(t._s(t.address.address)+t._s(t.address.detailedAddress)+t._s(t.address.zipCode))])]),t._v(" "),0==t.orderInfo.payStatus?o("div",{staticClass:"btns",on:{click:function(e){t.buyGood(t.orderInfo.orderCode)}}},[o("input",{attrs:{type:"button",value:"购买，去支付",id:"sure"}})]):t._e(),t._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("x-dialog",{staticClass:"payDialog",model:{value:t.showDialogPay,callback:function(e){t.showDialogPay=e},expression:"showDialogPay"}})],1),t._v(" "),o("toast",{attrs:{text:t.toastMsg,type:"text"},model:{value:t.showToast,callback:function(e){t.showToast=e},expression:"showToast"}})],1)},staticRenderFns:[]}},1465:function(t,e,o){function n(t){o(1182),o(1183)}var s=o(0)(o(702),o(1345),n,"data-v-05f4edbf",null);t.exports=s.exports},1556:function(t,e,o){o(2),t.exports=o(614)},280:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(354),s=function(t){return t&&t.__esModule?t:{default:t}}(n),i=["android","ios","ios-small","bubbles","circles","crescent","dots","lines","ripple","spiral"];e.default={name:"spinner",mounted:function(){var t=this;this.$nextTick(function(){(0,s.default)(t.$el,t.type,t.size)})},props:{type:{type:String,default:"ios"},size:String},computed:{styles:function(){if(void 0!==this.size&&"28px"!==this.size)return{width:this.size,height:this.size}},className:function(){for(var t={},e=0;e<i.length;e++)t["vux-spinner-"+i[e]]=this.type===i[e];return t}}}},29:function(t,e,o){function n(t){o(46)}var s=o(0)(o(39),o(59),n,null,null);t.exports=s.exports},292:function(t,e){},297:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{staticClass:"vux-spinner",class:t.className,style:t.styles})},staticRenderFns:[]}},299:function(t,e,o){function n(t){o(292)}var s=o(0)(o(280),o(297),n,null,null);t.exports=s.exports},39:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(114),s=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={mixins:[s.default],name:"x-dialog",model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},maskZIndex:[String,Number],dialogTransition:{type:String,default:"vux-dialog"},dialogClass:{type:String,default:"weui-dialog"},hideOnBlur:Boolean,dialogStyle:Object,scroll:{type:Boolean,default:!0,validator:function(t){return!0}}},computed:{maskStyle:function(){if(void 0!==this.maskZIndex)return{zIndex:this.maskZIndex}}},mounted:function(){"undefined"!=typeof window&&window.VUX_CONFIG&&"VIEW_BOX"===window.VUX_CONFIG.$layout&&(this.layout="VIEW_BOX")},watch:{show:function(t){this.$emit("update:show",t),this.$emit(t?"on-show":"on-hide"),t?this.addModalClassName():this.removeModalClassName()}},methods:{shouldPreventScroll:function(){var t=/iPad|iPhone|iPod/i.test(window.navigator.userAgent),e=this.$el.querySelector("input")||this.$el.querySelector("textarea");if(t&&e)return!0},hide:function(){this.hideOnBlur&&(this.$emit("update:show",!1),this.$emit("change",!1),this.$emit("on-click-mask"))}},data:function(){return{layout:""}}}},4:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default={setCookie:function(t,e,o){o||(o=30);var n=new Date;n.setMinutes(n.getMinutes()+o),document.cookie=t+"="+escape(e)+";path=/;expires ="+n.toGMTString()},getCookie:function(t){var e=document.cookie.split(";"),o={};if("token"==t)for(var n=0;n<e.length;n++){var s=e[n].indexOf("="),i=[e[n].substr(0,s),e[n].substring(s+2,e[n].length-1)];i[0]&&i[1]&&(o[i[0].replace(/^\s+/,"")]=i[1].replace(/^\s+/,""))}else for(var n=0;n<e.length;n++){var i=e[n].split("=");i[0]&&i[1]&&(o[i[0].replace(/^\s+/,"")]=i[1].replace(/^\s+/,""))}return t?unescape(o[t])||"":o},removeCookie:function(t){this.setCookie(t,1,-1)},simpleDateFormat:function(t,e){var o=new Date(t),n=function(t){return(t<10?"0":"")+t};return e.replace(/yyyy|MM|dd|HH|mm|ss/g,function(t){switch(t){case"yyyy":return n(o.getFullYear());case"MM":return n(o.getMonth()+1);case"mm":return n(o.getMinutes());case"dd":return n(o.getDate());case"HH":return n(o.getHours());case"ss":return n(o.getSeconds())}})},audioSet:function(){var t=new Date;return(t.getHours()>9?t.getHours():"0"+t.getHours())+":"+(t.getMinutes()>9?t.getMinutes():"0"+t.getMinutes())+":"+(t.getSeconds()>9?t.getSeconds():"0"+t.getSeconds())},getObjLength:function(t){var e=0;for(var o in t)e++;return e},getRequestParam:function(t){for(var e=location.search.replace(/^\?/,"").split("&"),o={},n=0;n<e.length;n++){var s=e[n].split("=");o[s[0]]=unescape(decodeURI(s[1]))}return t?o[t]||"":o},delURLQuery:function(t){var e=window.location,o=e.origin+e.pathname+"?",n=e.search.substr(1);if(n.indexOf(t)>-1){for(var s={},i=n.split("&"),r=0;r<i.length;r++)i[r]=i[r].split("="),s[i[r][0]]=i[r][1];delete s[t];return o+JSON.stringify(s).replace(/[\"\{\}]/g,"").replace(/\:/g,"=").replace(/\,/g,"&")}},next:function(t){var e=(new Date).getTime();t+=t.indexOf("?")>=0?"&_="+e:"?_="+e,window.location.href=t},mul:function(t,e){var o=0,n=0;return t=""+t,e=""+e,~t.indexOf(".")&&(o=t.split(".")[1].length),~e.indexOf(".")&&(n=e.split(".")[1].length),t=1*t.replace(".",""),e=1*e.replace(".",""),t*e/Math.pow(10,o+n)},wxConfig:function(t,e,o){t.post("/api/WeiXin/jssdkconfig.action",{url:e.url}).then(function(t){t=t.data;var n={debug:!1,appId:t.appId,timestamp:t.timeStamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:e.jsList};t?(wx.config(n),o(t)):console.error("调用返回信息错误",t)},function(t){console.error("调用返回信息错误==",t)})},isObj:function(t){return t&&"object"==(void 0===t?"undefined":n(t))&&"[object object]"==Object.prototype.toString.call(t).toLowerCase()},isArray:function(t){return t&&"object"==(void 0===t?"undefined":n(t))&&t.constructor==Array},deepCopy:function(t){if(!t||"object"!=(void 0===t?"undefined":n(t)))return t;var e=Array.isArray(t)?[]:{},o=Object.keys(t);s.push(t);var i=!0,r=!1,a=void 0;try{for(var u,d=o[Symbol.iterator]();!(i=(u=d.next()).done);i=!0){var l=u.value,c=t[l];if(s.indexOf(c)>-1)throw Error("检测到属性循环引用");e[l]=this.deepCopy(c)}}catch(t){r=!0,a=t}finally{try{!i&&d.return&&d.return()}finally{if(r)throw a}}return s.pop(),e},getPercent:function(t,e){return t=parseFloat(t),e=parseFloat(e),isNaN(t)||isNaN(e)?"-":e<=0?"0%":Math.round(t/e*1e4)/100+"%"},getArrIndex:function(t,e){for(var o=0;o<e.length;o++)if(e[o]==t)return o}};var s=[]},46:function(t,e){},5:function(t,e,o){function n(t){o(10)}var s=o(0)(o(9),o(11),n,null,null);t.exports=s.exports},59:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"vux-x-dialog",class:{"vux-x-dialog-absolute":"VIEW_BOX"===t.layout}},[o("transition",{attrs:{name:t.maskTransition}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-mask",style:t.maskStyle,on:{click:t.hide}})]),t._v(" "),o("transition",{attrs:{name:t.dialogTransition}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:t.dialogClass,style:t.dialogStyle},[t._t("default")],2)])],1)},staticRenderFns:[]}},6:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function s(t){return!t||200!==t.status&&304!==t.status&&400!==t.status?{status:-404,msg:"网络异常"}:t}function i(t){return console.log(t),-404===t.status&&alert(t.msg),t}Object.defineProperty(e,"__esModule",{value:!0});var r=o(22),a=n(r),u=o(23),d=n(u);o(2),a.default.interceptors.request.use(function(t){return t},function(t){return Promise.reject(t)}),a.default.interceptors.response.use(function(t){return t},function(t){return Promise.resolve(t.response)}),e.default={post:function(t,e){return(0,a.default)({method:"POST",url:t,data:d.default.stringify(e),timeout:1e4,withCredentials:!0,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(t){return s(t)}).then(function(t){return i(t)})},get:function(t,e){return(0,a.default)({method:"GET",url:t,params:e,timeout:1e4,withCredentials:!0,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(t){return s(t)}).then(function(t){return i(t)})},axios:function(t){return(0,a.default)(t).then(function(t){return s(t)}).then(function(t){return i(t)})},axiosPost:function(t,e,o){return a.default.post(t,e,o).then(function(t){return s(t)}).then(function(t){return i(t)})}}},614:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var s=o(21),i=n(s),r=o(1465),a=n(r),u=o(6),d=n(u);i.default.prototype.$http=d.default,i.default.config.productionTip=!1,o(7).attach(document.body),new i.default({el:"#app",template:"<orderDetail/>",components:{orderDetail:a.default}})},702:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=o(4),i=n(s),r=o(61),a=n(r),u=o(299),d=n(u),l=o(29),c=n(l),f=o(5),p=n(f);e.default={name:"orderDetail",components:{Spinner:d.default,XDialog:c.default,Toast:p.default},directives:{TransferDom:a.default},data:function(){return{id:"",showToast:!1,toastMsg:"",orderInfo:{},address:{},showDialogPay:!1}},created:function(){this.loading()},methods:{loading:function(){var t=this,e=i.default.getRequestParam("id");console.log(e),this.$http.get("/orderInfo/getOrderDetailById?id="+e).then(function(e){var o=e.data;if(o.successful&&"SUCCESS"==o.resultCode.code){t.orderInfo=o.data;var n=o.data.userObject.address;t.address=n?JSON.parse(n):{name:"",mobile:"",address:"",detailedAddress:"",zipCode:""},document.getElementById("describeText").innerHTML=t.orderInfo.relationDesc;for(var s=document.querySelectorAll("#describeText img"),i=0;i<s.length;i++)s[i].className="img-responsive",s[i].style.display="block",s[i].style.maxWidth="100%",s[i].style.height="auto";t.orderInfo.goodsList&&t.orderInfo.goodsList.length>0&&(document.querySelector(".serviceList").style.borderTop="1px solid #DEDEDE")}else t.showToast=!0,t.toastMsg=o.resultCode.message,console.error(o.resultCode)},function(e){console.error(e),t.showToast=!0,t.toastMsg="查询失败"}),document.querySelector("html").style.height="100%",document.body.style.height="100%"},buyGood:function(t){console.log(this.price,this.goodId,this.type,this.id);var e=this;e.showDialogPay=!0;var o=window.location.href.indexOf("serviceIndex.html")>=0?"/m/myService.html":"/m/myOrderList.html";this.$http.axios({method:"get",url:"/api/WeiXin/wx_project_repeatpay.action?orderCode="+t}).then(function(t){function n(){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:s.appId,timeStamp:s.timeStamp,nonceStr:s.nonceStr,package:"prepay_id="+s.prepayId,signType:"MD5",paySign:s.sign1},function(t){"get_brand_wcpay_request:ok"==t.err_msg&&setTimeout(function(){window.location.href=o},2e3)})}var s=t.data||t;if(console.log(JSON.stringify(t)+"#"+t.appId+"#"),console.log(s),"0"==s.ret_code)"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",n,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",n),document.attachEvent("onWeixinJSBridgeReady",n)):n();else{if("3"!=s.ret_code)return e.showDialogPay=!1,e.showAddress=!1,e.showToast=!0,e.toastMsg=s.ret_msg,!1;e.showToast=!0,e.toastMsg=s.ret_msg,setTimeout(function(){window.location.href=o},1500)}},function(t){e.showDialogPay=!1,e.showAddress=!1,console.log("我进error了！！"),e.showToast=!0,e.toastMsg="支付失败",console.error(t)})}}}},9:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(24),s=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"toast",mixins:[s.default],props:{value:Boolean,time:{type:Number,default:2e3},type:{type:String,default:"success"},transition:String,width:{type:String,default:"7.6em"},isShowMask:{type:Boolean,default:!1},text:String,position:String},data:function(){return{show:!1}},created:function(){this.value&&(this.show=!0)},computed:{currentTransition:function(){return this.transition?this.transition:"top"===this.position?"vux-slide-from-top":"bottom"===this.position?"vux-slide-from-bottom":"vux-fade"},toastClass:function(){return{"weui-toast_forbidden":"warn"===this.type,"weui-toast_cancel":"cancel"===this.type,"weui-toast_success":"success"===this.type,"weui-toast_text":"text"===this.type,"vux-toast-top":"top"===this.position,"vux-toast-bottom":"bottom"===this.position,"vux-toast-middle":"middle"===this.position}},style:function(){if("text"===this.type&&"auto"===this.width)return{padding:"10px"}}},watch:{show:function(t){var e=this;t&&(this.$emit("input",!0),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.show=!1,e.$emit("input",!1),e.$emit("on-hide"),e.fixSafariOverflowScrolling("touch")},this.time))},value:function(t){this.show=t}}}}},[1556]);
//# sourceMappingURL=orderDetail.c0abb43e80b2c970b109.js.map